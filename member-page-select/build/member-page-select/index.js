(()=>{"use strict";var e,r={830:()=>{const e=window.wp.blocks,r=window.wp.i18n,s=window.wp.element,t=window.wp.components,n=window.wp.data,l=window.wp.blockEditor,i=window.ReactJSXRuntime,a=JSON.parse('{"UU":"lfdb/page-selector"}');(0,e.registerBlockType)(a.UU,{edit:({attributes:e,setAttributes:a})=>{const{parentPageId:c,selectedPages:o}=e,[d,p]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),u=(0,n.useSelect)((e=>{const r=e("core/editor").getCurrentPostId(),s=e("core").getEntityRecord("postType","page",r);return s?s.title.rendered:""}),[]),w=(0,n.useSelect)((e=>e("core").getEntityRecords("postType","page",{per_page:-1})),[]);return(0,s.useEffect)((()=>{if(!w||!c)return;const e=w.filter((e=>e.parent===c));p(e),g(!1)}),[w,c]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.InspectorControls,{children:(0,i.jsxs)(t.PanelBody,{title:"Paramètres du Sélecteur de Pages",children:[(0,i.jsx)(t.SelectControl,{label:"Page Parent",value:c||"",options:[{label:"Sélectionnez une page",value:""},...w?w.map((e=>({label:e.title.rendered,value:e.id}))):[]],onChange:e=>{const r=parseInt(e,10);a({parentPageId:r,selectedPages:[]}),a({currentPageTitle:u})}}),h&&(0,i.jsx)(t.Spinner,{}),!h&&d.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Pages enfants :"}),d.map((e=>(0,i.jsx)(t.CheckboxControl,{label:e.title.rendered,checked:o.some((r=>r.id===e.id)),onChange:()=>(e=>{const r=o.some((r=>r.id===e.id))?o.filter((r=>r.id!==e.id)):[...o,{id:e.id,title:e.title.rendered,link:e.link}];a({selectedPages:r})})(e)},e.id)))]})]})}),(0,i.jsx)("div",{className:"absolute-wrapper-select",children:(0,i.jsxs)("div",{className:"wrapper-select",children:[(0,i.jsxs)("div",{className:"selected-option",children:[(0,i.jsx)("p",{children:u}),(0,i.jsx)("svg",{className:"svg-icon",width:"19",height:"11",viewBox:"0 0 19 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10.0162 10.4019C9.73299 10.6852 9.26701 10.6852 8.98377 10.4019L0.212431 1.63057C-0.0708103 1.34733 -0.0708103 0.881353 0.212431 0.598112C0.495672 0.314871 0.96165 0.314871 1.24489 0.598112L9.5 8.85322L17.7551 0.598112C18.0384 0.314871 18.5043 0.314871 18.7876 0.598112C19.0708 0.881353 19.0708 1.34733 18.7876 1.63057L10.0162 10.4019Z",fill:"black"})})]}),(0,i.jsx)("div",{className:"options-container",children:o.length>0?o.map((e=>(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:e.link,rel:"noopener noreferrer",children:e.title})},e.id))):(0,i.jsx)("p",{children:(0,r.__)("Aucune page sélectionnée.","rescits")})})]})})]})},save:({attributes:e})=>{const{selectedPages:s,currentPageTitle:t}=e;return(0,i.jsx)("div",{className:"absolute-wrapper-select",children:(0,i.jsxs)("div",{className:"wrapper-select",children:[(0,i.jsxs)("div",{className:"selected-option",children:[(0,i.jsx)("p",{children:t}),(0,i.jsx)("svg",{className:"svg-icon",width:"19",height:"11",viewBox:"0 0 19 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M10.0162 10.4019C9.73299 10.6852 9.26701 10.6852 8.98377 10.4019L0.212431 1.63057C-0.0708103 1.34733 -0.0708103 0.881353 0.212431 0.598112C0.495672 0.314871 0.96165 0.314871 1.24489 0.598112L9.5 8.85322L17.7551 0.598112C18.0384 0.314871 18.5043 0.314871 18.7876 0.598112C19.0708 0.881353 19.0708 1.34733 18.7876 1.63057L10.0162 10.4019Z",fill:"black"})})]}),(0,i.jsx)("div",{className:"options-container",children:s.length>0?s.map((e=>(0,i.jsx)("p",{children:(0,i.jsx)("a",{href:e.link,rel:"noopener noreferrer",children:e.title})},e.id))):(0,i.jsx)("p",{children:(0,r.__)("Aucune page sélectionnée.","rescits")})})]})})}})}},s={};function t(e){var n=s[e];if(void 0!==n)return n.exports;var l=s[e]={exports:{}};return r[e](l,l.exports,t),l.exports}t.m=r,e=[],t.O=(r,s,n,l)=>{if(!s){var i=1/0;for(d=0;d<e.length;d++){for(var[s,n,l]=e[d],a=!0,c=0;c<s.length;c++)(!1&l||i>=l)&&Object.keys(t.O).every((e=>t.O[e](s[c])))?s.splice(c--,1):(a=!1,l<i&&(i=l));if(a){e.splice(d--,1);var o=n();void 0!==o&&(r=o)}}return r}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,n,l]},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={501:0,345:0};t.O.j=r=>0===e[r];var r=(r,s)=>{var n,l,[i,a,c]=s,o=0;if(i.some((r=>0!==e[r]))){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(c)var d=c(t)}for(r&&r(s);o<i.length;o++)l=i[o],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},s=globalThis.webpackChunklfdb_rescits_search_membres=globalThis.webpackChunklfdb_rescits_search_membres||[];s.forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s))})();var n=t.O(void 0,[345],(()=>t(830)));n=t.O(n)})();